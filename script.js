/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/*!********************************!*\
  !*** ./src/assets/js/index.js ***!
  \********************************/
eval("var videoHome = document.querySelector('.video.-home');\nvar videoThreat = document.querySelector('.video.-menace');\nvar instructions = document.querySelector('.instructions');\nvar interviewPrev = document.querySelector('.o-interview__tooltipPrev');\nvar interviewNext = document.querySelector('.o-interview__tooltipNext');\nvar interviewStep = 1;\nvar isHomeScreen = false;\nvar timeoutHomeInactivity = 30000; // 30 seconds\n\nvar timeoutScreensInactivity = 90000; // 90 seconds\n\nvar timeoutHomeId;\nvar timeoutScreensId;\ninstructions.addEventListener('click', function () {\n  instructions.classList.add('-isHidden');\n  isHomeScreen = true;\n  startTimer();\n});\n/**\n * Display popup\n */\n\ndocument.querySelectorAll('.zone__item').forEach(function (item) {\n  item.addEventListener('click', function () {\n    // Not home => Reset timer\n    isHomeScreen = false;\n    resetTimer(); // Show popup\n\n    var index = item.getAttribute('data-zone');\n    document.querySelector('[data-popup=\"' + index + '\"]').classList.add('-isShowed'); // If not video\n\n    if (index != 5) {\n      startScreensTimer();\n    } // If popup 5\n\n\n    if (index == 5) {\n      // Play video\n      videoThreat.currentTime = 0;\n      videoThreat.play();\n    } // If popup 6\n\n\n    if (index == 6) {\n      // Show first interview screen\n      interviewStep = 1;\n      document.querySelector('[data-interview=\"1\"]').classList.add('-isShowed'); // Set prev/next buttons\n\n      showInterviewPrev(1);\n      showInterviewNext(1);\n    }\n  });\n});\n/**\n * Back to home screen\n */\n\ndocument.querySelectorAll('.popup__back').forEach(function (item) {\n  item.addEventListener('click', function () {\n    // Home => launch timer\n    isHomeScreen = true;\n    startTimer(); // Reset back to homescreen\n\n    resetScreensTimer(); // Hide all popup\n\n    document.querySelectorAll('.popup__item').forEach(function (popup) {\n      popup.classList.remove('-isShowed');\n    }); // Hide interview screens\n\n    document.querySelectorAll('.o-interview__tooltipList').forEach(function (interview) {\n      interview.classList.remove('-isShowed');\n    });\n  });\n});\n/**\n * Prev button on interview screens\n */\n\ninterviewPrev.addEventListener('click', function () {\n  var prevIndex = interviewStep -= 1;\n  document.querySelectorAll('.o-interview__tooltipList').forEach(function (interview) {\n    interview.classList.remove('-isShowed');\n  });\n  document.querySelector('[data-interview=\"' + prevIndex + '\"]').classList.add('-isShowed');\n  showInterviewPrev(prevIndex);\n  showInterviewNext(prevIndex);\n  resetScreensTimer();\n});\n/**\n * Next button on interview screens\n */\n\ninterviewNext.addEventListener('click', function () {\n  var nextIndex = interviewStep += 1;\n  document.querySelectorAll('.o-interview__tooltipList').forEach(function (interview) {\n    interview.classList.remove('-isShowed');\n  });\n  document.querySelector('[data-interview=\"' + nextIndex + '\"]').classList.add('-isShowed');\n  showInterviewPrev(nextIndex);\n  showInterviewNext(nextIndex);\n  resetScreensTimer();\n});\n/**\n * Handle video\n */\n\ndocument.querySelector('.video.-menace').addEventListener('ended', function () {\n  document.querySelector('[data-popup=\"5\"]').classList.remove('-isShowed');\n  setTimeout(function () {\n    isHomeScreen = true;\n    videoThreat.currentTime = 0;\n    startTimer();\n  }, 1000);\n});\n\nvar showInterviewPrev = function showInterviewPrev(interviewIndex) {\n  if (interviewIndex === 1) {\n    interviewPrev.classList.add('-isHidden');\n  } else {\n    interviewPrev.classList.remove('-isHidden');\n  }\n};\n\nvar showInterviewNext = function showInterviewNext(interviewIndex) {\n  if (interviewIndex === 7) {\n    interviewNext.classList.add('-isHidden');\n  } else {\n    interviewNext.classList.remove('-isHidden');\n  }\n};\n\nvar startTimer = function startTimer() {\n  timeoutHomeId = window.setTimeout(function () {\n    instructions.classList.remove('-isHidden');\n  }, timeoutHomeInactivity);\n};\n\nvar startScreensTimer = function startScreensTimer() {\n  timeoutScreensId = window.setTimeout(function () {\n    document.querySelector('.popup__item.-isShowed').classList.remove('-isShowed');\n    startTimer();\n  }, timeoutScreensInactivity);\n};\n\nvar resetTimer = function resetTimer() {\n  window.clearTimeout(timeoutHomeId);\n\n  if (isHomeScreen) {\n    startTimer();\n  }\n};\n\nvar resetScreensTimer = function resetScreensTimer() {\n  window.clearTimeout(timeoutScreensId);\n\n  if (!isHomeScreen) {\n    startScreensTimer();\n  }\n};\n\ndocument.addEventListener(\"keypress\", resetTimer, false);\ndocument.addEventListener(\"touchmove\", resetTimer, false);\n\n//# sourceURL=webpack://vire-normandie/./src/assets/js/index.js?");
/******/ })()
;